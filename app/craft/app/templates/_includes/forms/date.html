{% if value is not defined -%}
	{% set value = null -%}
{% endif -%}

{% set id = id ~ '-date' -%}

{% if name is defined and name -%}
	{% set name = name ~ '[date]' -%}
{% endif -%}

<div class="datewrapper">
	{%- include "_includes/forms/text" with { autocomplete: false, size: 10, value: (value ? value.localeDate() : '') } -%}
</div>

{%- includejs %}
	$('#{{ id|namespaceInputId|e('js') }}').datepicker($.extend({
		defaultDate: new Date({% if value %}{{ value.year }}, {{ value.month-1 }}, {{ value.day }}{% endif %})
	}, Craft.datepickerOptions));
{%- endincludejs %}
